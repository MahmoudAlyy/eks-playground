# apiVersion: monitoring.coreos.com/v1
# kind: ServiceMonitor
# metadata:
#   name: nginx-service-monitor
#   labels:
#     app: nginx-service-monitor
# spec:
#   selector:
#     matchLabels:
#       app: nginx-service
#   endpoints:
#   - port: web
# ---
# apiVersion: monitoring.coreos.com/v1
# kind: Prometheus
# metadata:
#   name: prometheus
# spec:
#   serviceAccountName: prometheus
#   serviceMonitorSelector:
#     matchLabels:
#       app: nginx-service-monitor
#   resources:
#     requests:
#       memory: 400Mi
#   enableAdminAPI: false
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: prometheus-service
#   labels:
#     app: prometheus-service
#   annotations:
#     alb.ingress.kubernetes.io/healthcheck-path: /-/healthy
# spec:
#   type: NodePort
#   ports:
#   - name: web
#     port: 9090
#     protocol: TCP
#     targetPort: web
#   selector:
#     prometheus: prometheus
# ---
# apiVersion: networking.k8s.io/v1
# kind: Ingress
# metadata:
#   name: prometheus-ingress
#   labels:
#     app: prometheus-ingress
#   annotations:
#     alb.ingress.kubernetes.io/scheme: internet-facing
#     alb.ingress.kubernetes.io/target-type: ip
# spec:
#   ingressClassName: alb
#   rules:
#     - http:
#         paths:
#         - path: /
#           pathType: Prefix
#           backend:
#             service:
#               name: prometheus-service
#               port:
#                 number: 9090

